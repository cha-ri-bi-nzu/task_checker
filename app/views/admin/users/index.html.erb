<h3>ユーザー一覧</h3>
<br>
<%= form_with(model: @users, local: true, url: admin_users_path, scope: :user) do |f| %>
  <table>
    <tr>
      <th>ID</th>
      <th>ユーザー名</th>
      <th>権限</th>
      <th>タスク数</th>
      <th colspan="3"></th>
    </tr>
    <br>
    <% @users.each do |user| %>
      <tr>
        <td class="users_id"><%= user.id %></td>
        <td class="user_name"><%= user.name %></td>
        <td class="users_admin"><%= user.admin %></td>
        <td class="users_tasks"><%= user.tasks.size %></td>
        <td><button type="button" class="btn btn-success"><%= link_to '詳細', user_path(user.id) %></button></td>
        <td><button type="button" class="btn btn-info"><%= link_to '編集', edit_user_path(user.id) %></button></td>
        <td><button type="button" class="btn btn-danger"><%= link_to '削除', admin_user_path(user.id), method: :delete, id: "delete_#{user.id}", data: {confirm: '本当に削除しますか？'} %></button></td>
      </tr>
    <% end %>
  </table>
  <div>
    <br>
    <%= paginate @users %>
    <br>
    <%= link_to "新規ユーザー登録", new_user_path %>
  </div>
<% end %>
